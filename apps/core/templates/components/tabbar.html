<!-- Tab Bar Component -->
<div class="h-8 bg-gray-800 border-b border-gray-700 flex items-center overflow-x-auto">
    <div class="flex min-w-max" id="tabs-container">
        <!-- Onglet Générateur de Cours -->
        {% if 'courses' in request.path %}
        <div class="h-8 px-3 flex items-center text-xs border-r border-gray-700 cursor-pointer transition-colors duration-150 group relative bg-gray-900 text-white" 
             data-url="{% url 'courses:generator' %}">
            <span class="mr-2 truncate max-w-32">Générateur de Cours</span>
            <button class="opacity-0 group-hover:opacity-100 transition-opacity duration-150 p-1 hover:bg-gray-600 rounded" onclick="closeTab(event, '{% url 'courses:generator' %}')">
                <i data-lucide="x" class="w-3 h-3"></i>
            </button>
        </div>
        {% endif %}
        
        <!-- Onglet Recherche IA -->
        {% if 'chat' in request.path %}
        <div class="h-8 px-3 flex items-center text-xs border-r border-gray-700 cursor-pointer transition-colors duration-150 group relative bg-gray-900 text-white" 
             data-url="{% url 'chat:search' %}">
            <span class="mr-2 truncate max-w-32">Recherche IA</span>
            <button class="opacity-0 group-hover:opacity-100 transition-opacity duration-150 p-1 hover:bg-gray-600 rounded" onclick="closeTab(event, '{% url 'chat:search' %}')">
                <i data-lucide="x" class="w-3 h-3"></i>
            </button>
        </div>
        {% endif %}
        
        <!-- Onglet Quiz & QCM -->
        {% if 'quiz' in request.path %}
        <div class="h-8 px-3 flex items-center text-xs border-r border-gray-700 cursor-pointer transition-colors duration-150 group relative bg-gray-900 text-white" 
             data-url="{% url 'quiz:lobby' %}">
            <span class="mr-2 truncate max-w-32">Quiz & QCM</span>
            <button class="opacity-0 group-hover:opacity-100 transition-opacity duration-150 p-1 hover:bg-gray-600 rounded" onclick="closeTab(event, '{% url 'quiz:lobby' %}')">
                <i data-lucide="x" class="w-3 h-3"></i>
            </button>
        </div>
        {% endif %}
        
        <!-- Onglet Performances -->
        {% if 'tracker' in request.path %}
        <div class="h-8 px-3 flex items-center text-xs border-r border-gray-700 cursor-pointer transition-colors duration-150 group relative bg-gray-900 text-white" 
             data-url="{% url 'tracker:dashboard' %}">
            <span class="mr-2 truncate max-w-32">Performances</span>
            <button class="opacity-0 group-hover:opacity-100 transition-opacity duration-150 p-1 hover:bg-gray-600 rounded" onclick="closeTab(event, '{% url 'tracker:dashboard' %}')">
                <i data-lucide="x" class="w-3 h-3"></i>
            </button>
        </div>
        {% endif %}
        
        <!-- Onglet Révision -->
        {% if 'revision' in request.path %}
        <div class="h-8 px-3 flex items-center text-xs border-r border-gray-700 cursor-pointer transition-colors duration-150 group relative bg-gray-900 text-white" 
             data-url="{% url 'revision:flashcards' %}">
            <span class="mr-2 truncate max-w-32">Révision</span>
            <button class="opacity-0 group-hover:opacity-100 transition-opacity duration-150 p-1 hover:bg-gray-600 rounded" onclick="closeTab(event, '{% url 'revision:flashcards' %}')">
                <i data-lucide="x" class="w-3 h-3"></i>
            </button>
        </div>
        {% endif %}
    </div>
</div>

<script>
function closeTab(event, url) {
    event.stopPropagation();
    
    // Rediriger vers la page d'accueil (générateur de cours)
    window.location.href = "{% url 'courses:generator' %}";
}
</script>